templates:
  - templates/lookup.yaml
tests:
  - it: manifest should match snapshot
    asserts:
      - matchSnapshot: {}
      - isNullOrEmpty:
          path: lookup_not_exists
      - equal:
          path: lookup_exists.kind
          value: Pod
      - equal:
          path: lookup_exists.apiVersion
          value: v1
      - equal:
          path: lookup_exists.metadata.name
          value: exists
      - equal:
          path: lookup_exists.metadata.namespace
          value: default
    kubernetesProvider:
      scheme:
        "v1/Pod":
          gvr:
            version:  "v1"
            resource: "pods"
          namespaced: true
      objects:
        - kind: Pod
          apiVersion: v1
          metadata:
            name: exists
            namespace: default

